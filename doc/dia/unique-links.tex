
\documentclass{article}

\include{prelude}

\begin{document}

\tikzset{
    > = stealth',
    node distance = 0.5cm and 2cm,
    entity/.style = {fill=black!10, circle,
                     text width=1.5cm, minimum size=4cm,
                     text centered, font=\small\ttfamily},
    value/.style = {fill=black!10, rectangle,
                    text width=4.5cm, minimum size=4cm,
                    text centered, font=\small\ttfamily},
    link/.style = {font=\ttfamily, above},
    brace/.style = {decorate, decoration={brace,amplitude=8pt,raise=4pt},
                    draw=blue!50},
    brace header/.style = {below=10pt, font=\itshape\color{blue!75}}
}

\begin{tikzpicture}

\node[entity, label=above:school] (school)
    {$\vdots$ \\ {[eng]} \\ {[la]} \\ {[ns]} \\ $\vdots$};
\node[entity, label=above:department] (department) [left=of school]
    {$\vdots$ \\ {[be]} \\ {[ee]} \\ {[me]} \\
     {[hist]} \\ {[psych]} \\ {[chem]} \\ $\vdots$};
\node[value, label=above:name] (name) [left=of department]
    {$\vdots$ \\
     {'Bioengineering'} \\ {'Electrical Engineering'} \\ {'Mechanical Engineering'} \\
     {'History'} \\ {'Psychology'} \\ {'Chemistry'} \\ $\vdots$};

\coordinate (eng in)
    at ($ (school) +(-15pt,9pt) $);
\coordinate (la in)
    at ($ (school) +(-15pt,-2pt) $);
\coordinate (ns in)
    at ($ (school) +(-15pt,-13pt) $);

\coordinate (be 1 out)
    at ($ (department) +(15pt,26pt) $);
\coordinate (ee 1 out)
    at ($ (department) +(15pt,15pt) $);
\coordinate (me 1 out)
    at ($ (department) +(15pt,4pt) $);
\coordinate (hist 1 out)
    at ($ (department) +(20pt,-8pt) $);
\coordinate (psych 1 out)
    at ($ (department) +(20pt,-19pt) $);
\coordinate (chem 1 out)
    at ($ (department) +(20pt,-30pt) $);
\coordinate (be 2 out)
    at ($ (department) +(-15pt,26pt) $);
\coordinate (ee 2 out)
    at ($ (department) +(-15pt,15pt) $);
\coordinate (me 2 out)
    at ($ (department) +(-15pt,4pt) $);
\coordinate (hist 2 out)
    at ($ (department) +(-20pt,-8pt) $);
\coordinate (psych 2 out)
    at ($ (department) +(-20pt,-19pt) $);
\coordinate (chem 2 out)
    at ($ (department) +(-20pt,-30pt) $);

\coordinate (be name)
    at ($ (name) +(50pt,26pt) $);
\coordinate (ee name)
    at ($ (name) +(60pt,15pt) $);
\coordinate (me name)
    at ($ (name) +(60pt,4pt) $);
\coordinate (hist name)
    at ($ (name) +(35pt,-8pt) $);
\coordinate (psych name)
    at ($ (name) +(35pt,-19pt) $);
\coordinate (chem name)
    at ($ (name) +(35pt,-30pt) $);

\draw[->]
    (be 1 out) to (eng in);
\draw[->]
    (ee 1 out) to (eng in);
\draw[->]
    (me 1 out) to (eng in);
\draw[->]
    (hist 1 out) to (la in);
\draw[->]
    (psych 1 out) to (la in);
\draw[->]
    (chem 1 out) to (ns in);

\draw[->]
    (be 2 out) to (be name);
\draw[->]
    (ee 2 out) to (ee name);
\draw[->]
    (me 2 out) to (me name);
\draw[->]
    (hist 2 out) to (hist name);
\draw[->]
    (psych 2 out) to (psych name);
\draw[->]
    (chem 2 out) to (chem name);

\draw[brace]
    ($ (school.south) -(5pt,0) $)
    -- node[brace header] {a non-unique link}
    ($ (department.south) +(5pt,0) $);
\draw[brace]
    ($ (department.south) -(5pt,0) $)
    -- node[brace header] {a unique link}
    ($ (name.south) +(5pt,0) $);

\end{tikzpicture}

\end{document}

